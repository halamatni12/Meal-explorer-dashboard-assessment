<div class="container">
    <div class="top-bar">
        <div class="total-box">
            <div class="label"> Meals </div>
            <div class="value">{{ api.meals().length }}</div>
        </div>
        <div class="search-box">
            <i class="bx bx-search"></i>
            <input type="text" class="sf-input" placeholder="search meals..." [(ngModel)]="searchTerm"
                (input)="updateSearch()">
        </div>
        <div class="filter-box" (click)="toggleDropdown()">
            <div class="filter-selected">
                {{ selectedcategory() }}
                <i class='bx bx-chevron-down'></i>
            </div>

            <ul class="filter-menu" [class.show]="dropdownOpen" (click)="$event.stopPropagation()">
                <li *ngFor="let cat of categories()" (click)="selectCategory(cat)">
                    {{ cat }}
                </li>
            </ul>
        </div>

    </div>
</div>

<div class="card card-body" *ngFor="let meal of pagedMeals()">
    <div class="media align-items-center align-items-lg-start text-center text-lg-left flex-column flex-lg-row">
        <div class="mr-2 mb-3 mb-lg-0">

            <img [src]="meal.strMealThumb" width="150" height="150" class="img-fluid rounded" alt="{{meal.strMeal}}">

        </div>

        <div class="media-body">
            <h6 class="media-title font-weight-semibold">
                {{meal.strMeal}}
            </h6>

            <ul class="list-inline list-inline-dotted mb-3 mb-lg-2">
                <li class="list-inline-item">{{meal.strCategory}}</li>
                <li class="list-inline-item">{{meal.strArea}}</li>
            </ul>



            <ul class="list-inline list-inline-dotted mb-0" *ngIf="meal.strTags">
                <li class="list-inline-item">Tags:{{meal.strTags}}</li>

            </ul>
        </div>
<div class="mt-3 mt-lg-0 ml-lg-3 text-center" style="z-index: 99; position: relative;">

            <button type="button" class="btn btn-warning mt-4 text-white" style="background-color: #db984d;" (click)="onViewDetails(meal)">View
                Details</button>

        </div>
    </div>

</div>
<div class="pagination-controls d-flex justify-content-between mt-4">
    <button class="btn btn-outline-secondary px-4" (click)="prev()" [disabled]="page() === 1">Previous</button>
    <span>Page {{page()}}</span>
    <button class="btn btn-primary px-4" (click)="next()" [disabled]="endIndex() === total()">Next</button>

</div>